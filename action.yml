name: Cfx.re Server Key Detector
author: silas-x
description: >
  Detect unintential commits of Cfx.re server keys in code

runs:
  using: 'composite'
  steps:
    - name: Install Semgrep
      run: python3 -m pip install semgrep
      shell: bash

    - name: Run Scan
      run: semgrep scan . --config=https://github.com/silas-x/cfx-action/blob/main/cfx-rule.yml --scan-unknown-extensions --text --error
      shell: bash
